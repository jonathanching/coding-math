(window.webpackJsonp=window.webpackJsonp||[]).push([[15],{13:function(t,i,s){"use strict";i.a={data:function(){return{canvas:null,context:null}},computed:{canvasHalfHeight:function(){return this.canvas.height/2},canvasHalfWidth:function(){return this.canvas.width/2}},mounted:function(){this.canvas=this.getCanvas(),this.context=this.getCanvasContext(),this.handleDrawErrors()},methods:{clearCanvas:function(){this.context.clearRect(0,0,this.canvas.width,this.canvas.height)},drawGrid:function(t="#f7f7f7",i=20){this.context.beginPath(),this.context.strokeStyle=t,this.context.lineWidth=2;for(var s=0;s<this.canvas.width;s+=i)this.context.moveTo(s,0),this.context.lineTo(s,this.canvas.height);for(var n=0;n<=this.canvas.height;n+=i)this.context.moveTo(0,n),this.context.lineTo(this.canvas.width,n);this.context.stroke()},drawAxis:function(t="#dedede"){let i=-1*this.canvas.width,s=this.canvas.width,n=this.canvasHalfWidth,e=this.canvasHalfHeight,a=this.canvas.height;this.context.beginPath(),this.context.strokeStyle=t,this.context.lineWidth=2.5,this.context.moveTo(i,e-1.25),this.context.lineTo(s,e-1.25),this.context.moveTo(n-1.25,0),this.context.lineTo(n-1.25,a),this.context.stroke()},getCanvas:function(t="canvas"){let i=document.getElementById(t);return i&&(i.width=window.innerWidth),i.height=window.innerHeight,i},getCanvasContext:function(){return this.canvas?this.canvas.getContext("2d"):null},handleDrawErrors:function(){this.canvas||console.warn("[VUE Warn] Draw.js : `Canvas` element not found.")}}}},14:function(t,i,s){"use strict";s.d(i,"a",function(){return e});var n=s(5);class e{constructor(t,i,s,e,a=0){this.position=new n.a(t,i),this.velocity=new n.a(0,0),this.gravity=new n.a(0,a),this.springs=[],this.gravitations=[],this.radius=0,this.mass=1,this.bounce=0,this.friction=null,this.velocity.setLength(s),this.velocity.setAngle(e)}accelerate(t){this.velocity.addTo(t)}angleTo(t){return Math.atan2(t.position.y-this.position.y,t.position.x-this.position.x)}distanceTo(t){let i=t.position.x-this.position.x,s=t.position.y-this.position.y;return Math.sqrt(i*i+s*s)}addSpring(t,i,s){this.removeSpring(t),this.springs.push({point:t,k:i,length:s})}removeSpring(t){for(var i=0;i<this.springs.length;i++)if(t===this.springs[i].point)return this.springs.splice(i,1)}springTo(t,i,s){let n=t.subtract(this.position);n.setLength(n.getLength()-s);let e=n.multiply(i);this.velocity.addTo(e)}handleSpring(){for(var t=0;t<this.springs.length;t++){let i=this.springs[t];this.springTo(i.point,i.k,i.length)}}addGravitation(t){this.removeGravitation(t),this.gravitations.push(t)}removeGravitation(t){for(var i=0;i<this.gravitations.length;i++)if(t===this.gravitations[i])return this.gravitation.splice(i,1)}gravitateTo(t){let i=new n.a(0,0),s=this.distanceTo(t);i.setLength(this.mass*t.mass/(s*s)),i.setAngle(this.angleTo(t)),this.velocity.addTo(i)}handleGravitation(){for(var t=0;t<this.gravitations.length;t++){let i=this.gravitations[t];this.gravitateTo(i)}}update(){this.handleSpring(),this.handleGravitation(),this.friction&&this.velocity.multiplyBy(this.friction),this.velocity.addTo(this.gravity),this.position.addTo(this.velocity)}}},33:function(t,i,s){"use strict";s.r(i);var n=s(5),e=s(14),a={props:{},mixins:[s(13).a],data:function(){return{radius:0,speed:0,character:null,movement:0,direction:0,rotation:0,isForward:!1,isBackward:!1,isLeft:!1,isRight:!1}},mounted:function(){this.init()},methods:{init:function(){this.radius=10,this.speed=.05,this.movement=new n.a(0,0),this.direction=-Math.PI/2,this.rotation=.08,this.character=new e.a(this.canvasHalfWidth,this.canvasHalfHeight,0,-Math.PI/2),this.animateMovement(),this.bindControllerEvents()},animateMovement:function(){this.clearCanvas(),this.drawHelpers(),this.handleMovement(),this.character.accelerate(this.movement),this.character.update(),this.drawCharacter(this.character.position.x,this.character.position.y),this.checkOutofBounds(),requestAnimationFrame(this.animateMovement)},drawCharacter:function(t,i){this.context.beginPath(),this.context.fillStyle="black",this.context.arc(t,i,this.radius,0,2*Math.PI,!1),this.context.fill();let s=this.getHeadPosition();this.context.beginPath(),this.context.fillStyle="red",this.context.arc(s.x,s.y,this.radius/2,0,2*Math.PI,!1),this.context.fill()},drawHelpers:function(){this.drawGrid(),this.drawAxis(),this.drawLegend()},drawLegend:function(){let t=this.canvasHalfHeight+.5*this.canvasHalfHeight;this.context.font="17px Open Sans",this.context.fillStyle="#333",this.context.fillText("CONTROLS",10,t),this.context.fillText("Arrow Up        :   Move forward",10,t+=20),this.context.fillText("Arrow Down  :   Move backward",10,t+=20),this.context.fillText("Arrow Left      :   Rotate left",10,t+=20),this.context.fillText("Arrow Right   :   Rotate right",10,t+=20)},bindControllerEvents:function(){this.bindKeyEvents("keydown",!0),this.bindKeyEvents("keyup",!1)},bindKeyEvents:function(t,i){document.body.addEventListener(t,t=>{switch(t.keyCode){case 38:this.isForward=i;break;case 40:this.isBackward=i;break;case 37:this.isLeft=i;break;case 39:this.isRight=i}})},handleMovement:function(){this.isForward&&(this.movement=this.getAcceleration()),this.isBackward&&(this.movement=this.getAcceleration(!1)),this.isForward||this.isBackward||this.movement.clear(),this.isLeft&&(this.direction-=this.rotation),this.isRight&&(this.direction+=this.rotation)},getAcceleration:function(t=!0){let i=this.getFrontPosition(),s=null;return i.normalize(),s=i.multiply(this.speed),t?s:s.multiply(-1)},getFrontPosition:function(){return this.getHeadPosition().subtract(this.character.position)},getHeadPosition:function(){return new n.a(this.character.position.x+Math.cos(this.direction)*this.radius/2,this.character.position.y+Math.sin(this.direction)*this.radius/2)},checkOutofBounds:function(){this.character.position.x-this.radius>this.canvas.width?this.character.position.x=0:this.character.position.x+this.radius<0?this.character.position.x=this.canvas.width:this.character.position.y-this.radius>this.canvas.height?this.character.position.y=0:this.character.position.y+this.radius<0&&(this.character.position.y=this.canvas.height)}}},h=s(4),o=Object(h.a)(a,function(){this.$createElement;this._self._c;return this._m(0)},[function(){var t=this.$createElement,i=this._self._c||t;return i("div",{attrs:{id:"spaceship-movement"}},[i("canvas",{attrs:{id:"canvas"}})])}],!1,null,null,null);i.default=o.exports}}]);